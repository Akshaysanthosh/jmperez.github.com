<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>More examples of Progressive Image Loading - JMPerez Blog</title><meta name=description content="Reading List with some articles from December 2016 - January 2017"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=author href="https://plus.google.com/107456024651797783420"><link rel=alternate type=application/rss+xml title="Jose M. Perez" href=https://jmperezperez.com/feed.xml><meta name=twitter:card content=summary><meta name=twitter:url content="https://jmperezperez.com/more-progressive-image-loading/" property=og:url><meta name=twitter:title content="More examples of Progressive Image Loading" property=og:title><meta name=twitter:description content="Reading List with some articles from December 2016 - January 2017" property=og:description><meta name=twitter:site content=@jmperezperez><meta property=fb:app_id content=1702266270006013><meta property=fb:pages content="1639848659664211"><link rel=canonical href="https://jmperezperez.com/more-progressive-image-loading/"><style>a,a:hover{color:#2a7cb2}.post::after,hr{display:block;clear:both}#page,.videoWrapper,body>header{position:relative}.pagination,.pagination a,body>header,footer{text-align:center}.code,code,pre{letter-spacing:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;border:none;vertical-align:baseline;font:inherit}button,input{background:0 0;-webkit-appearance:none;-moz-appearance:none;appearance:none}body{background:#fff;color:#555;font-family:Georgia,Times;font-weight:300;font-style:normal;font-size:19px;line-height:1.725;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}blockquote,em{font-style:italic}@media(max-width:800px){body{font-size:17px}}@media(max-width:600px){body{font-size:15px}}h1,h2,h3,h4,h5{color:#212121;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:600;font-size:1em;line-height:1.3;margin-bottom:1em}#menu a,.button{font-weight:400}.post ol,.post ul,amp-video,amp-vimeo,amp-youtube,iframe,p,video{margin:0 0 1em}.quote,blockquote,ol,ul{margin:0 0 15px}a{text-decoration:none;font-weight:inherit;-webkit-transition:color .15s ease-out,border-bottom-color .15s ease-out;-moz-transition:color .15s ease-out,border-bottom-color .15s ease-out;-o-transition:color .15s ease-out,border-bottom-color .15s ease-out;transition:color .15s ease-out,border-bottom-color .15s ease-out}p a{border-bottom:1px solid #eee}p a:hover{border-bottom-color:#212121}strong{font-weight:700}h2,h3{font-weight:400}h1{font-size:1.7em}h2{color:#444;font-size:1.6em}h3{color:#666;font-size:1.4em}h4{font-size:1.18em}h5{font-size:1em}p+h2,p+h3,p+h4,p+h5{padding-top:1em}a h1,a h2,a h3,a h4,a h5{-webkit-transition:color .15s ease-out;-moz-transition:color .15s ease-out;-o-transition:color .15s ease-out;transition:color .15s ease-out}a:hover h1,a:hover h2,a:hover h3,a:hover h4,a:hover h5{color:#3498db}blockquote{padding-left:20px;border-left:2px solid #ccc}ol,ul{padding-left:25px}ul{list-style:square}ol{list-style:decimal}sup{vertical-align:super}sub{vertical-align:sub}hr{margin:30px auto;width:50%;height:2px;background:#eee;color:#eee}.post,.post .svg-container object,body>header{width:100%}code,pre{overflow-x:auto;color:#333;font-family:Courier,Menlo,Monaco;font-size:.8em}.author,.tags,body>header{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}pre{padding:.8em 1em}code{margin:0}.post::after{content:''}body>header{background-color:#005689;overflow:hidden;padding:1em}#menu{display:inline-block;margin:1px 0}#menu a{margin-left:15px;color:#fff;text-transform:uppercase;font-size:14px;padding:20px 10px}#menu a[aria-current=page]{font-weight:700}#page{margin:0 auto;padding:3em 2em;max-width:40em}.videoWrapper{height:0;margin-bottom:1em;padding-bottom:56.25%;padding-top:25px}.videoWrapper amp-youtube,.videoWrapper iframe{left:0;height:100%;position:absolute;top:0;width:100%}.wrapper{padding:7.5% 0;border-top:2px solid #eee}.wrapper:first-child{padding-top:0;border-top:none}.post{display:block}.post div[itemprop=articleBody]>p:first-child{color:#333}.post li{margin-bottom:.5em}.post p img{display:block;margin:5% auto;max-width:100%;border:1px solid #eee}.button,.tag-list,.tag-list li{display:inline-block}.post .svg-container{text-align:center;margin-bottom:5%;max-width:100%}video{height:auto;max-width:100%}.tags{font-size:.9em}.tag-list{padding:0}.tag-list li:after{content:', '}.tag-list li:last-child:after{content:''}.pagination a{min-width:30px;max-height:30px}footer{padding:2em;background:rgba(0,0,0,.05)}.button{padding:10px 20px;border-radius:20px;border:1px solid #555;background-color:#fff;color:#555;font-size:13px;line-height:10px;-webkit-transition:background-color .15s ease-out;-moz-transition:background-color .15s ease-out;-o-transition:background-color .15s ease-out;transition:background-color .15s ease-out}.button:hover{background-color:#3498db;color:#fff;border-color:transparent}.button.inactive{background-color:#ccc;color:#fff}.search-goog input{padding:10px;border:2px solid #ddd}.search-goog input[type=submit]{background-color:#ddd;cursor:pointer}@media only screen and (max-width:768px){#page,.wrapper{margin:0;max-width:100%;width:100%;padding:1.5em}.wrapper{padding:10% 0}.wraper::after{display:block;clear:both;content:''}.post{margin:0 auto;max-width:640px}}.outscreen{position:absolute;left:-1000px;top:auto;width:1px;height:1px;overflow:hidden}.callout{font-size:90%;padding:20px;margin:20px 0;border:1px solid #eee;border-left-width:5px;border-left-color:#777;border-radius:3px}.author{font-size:.8em;margin-bottom:2em}.author .name{line-height:1.5;padding-top:.35em}.bd,.media{overflow:hidden;zoom:1}.media .img{float:left}.avatar-img{border-radius:100%;height:3.5em;width:3.5em;margin-right:.5em}.highlight{border:1px solid #eee;margin-bottom:1em;overflow-x:auto}.code{display:block;background:#fff;color:#333;overflow-x:auto}.code .comment,.code .meta{color:#969896}.code .emphasis,.code .quote,.code .string,.code .strong,.code .template-variable,.code .variable{color:#df5000}.code .keyword,.code .selector-tag,.code .type{color:#a71d5d}.code .attribute,.code .bullet,.code .literal,.code .symbol{color:#0086b3}.code .name,.code .section{color:#63a35c}.code .tag{color:#333}.code .attr,.code .selector-attr,.code .selector-class,.code .selector-id,.code .selector-pseudo,.code .title{color:#795da3}.code .addition{color:#55a532;background-color:#eaffea}.code .deletion{color:#bd2c00;background-color:#ffecec}.code .link{text-decoration:underline}</style><link rel=amphtml href="/more-progressive-image-loading/amp/"></head><body><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-39254352-1","auto"),ga("send","pageview");</script><header><nav id=menu><a href="/">JMPerez Blog</a> <a href="/projects/">Projects</a> <a href="/about-me/">About</a></nav></header><div id=page><article class=wrapper><div class=post><header><script type=application/ld+json>{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "More examples of Progressive Image Loading",
  
  "description": "Reading List with some articles from December 2016 - January 2017",
  
  "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"https://jmperezperez.com/more-progressive-image-loading/"
  },
  "datePublished": "2017-01-28T16:56:42.000Z",
  "dateModified": "2017-01-28T18:56:50.000Z",
  
  "author": {
      "@type": "Person",
      "name": "Jose M. Perez"
  },
  "publisher": {
      "@type": "Organization",
      "name": "Jose M. Perez's Blog"
      
      ,
      "logo": {
        "@type": "ImageObject",
        "url": "https://jmperezperez.com/assets/images/logo.png",
        "width": 600,
        "height": 60
      }
      
  }
}</script><div class="media author"><div class=img><a href="/about-me/"><img src=/assets/images/jmperez.jpg class=avatar-img alt="" height=53 width=53></a></div><div class=bd><address class=name itemprop=author itemscope itemtype=https://schema.org/Person><a href="/about-me/" itemprop=name>José M. Pérez</a></address><meta class=post-data itemprop=datePublished content=2017-01-28T16:56:42.000Z>January 28 2017</div></div><h1 itemprop=headline>More examples of Progressive Image Loading</h1></header><p>In <a href=/medium-image-progressive-loading-placeholder>a past post</a> I dissected a technique used by Medium to display images, transitioning from a blurry image to the final one. Since then I have found some more sites following a similar approach. Let’s see how Quora, Quartz and other sites do it.</p><h2 id=Quick-Introduction><a href=#Quick-Introduction class=headerlink title="Quick Introduction"></a>Quick Introduction</h2><p>Images are the largest assets on web pages and they account for two thirds of the bytes. Image optimisation and choosing the right image format is paramount. In addition, some sites are also using small thumbnails as placeholders while the final image hasn’t loaded yet. This technique is also called <em>“<a href="https://css-tricks.com/the-blur-up-technique-for-loading-background-images/" target=_blank rel=external>blur-up</a>”</em>. It basically tries to improve user’s perceived performance while also saving data traffic when combined with lazy-loading.</p><p>There are other alternatives to this approach. One of them consists of using a single JPEG image, tweaking its scan script to quickly render an initial pixelated version of the image and progressively load the final image in several scans. I recommend you having a look at <a href=http://cloudinary.com/blog/progressive_jpegs_and_green_martians target=_blank rel=external>Progressive JPEGs and green Martians</a> to know more about this.</p><h3 id=Quartz><a href=#Quartz class=headerlink title=Quartz></a>Quartz</h3><p>Take a look at the following video, recorded when accessing <a href="https://qz.com/894001/theres-a-wrong-and-a-right-way-to-talk-to-your-dog-according-to-science/" target=_blank rel=external>a page on QZ.com</a> with a throttled connection:</p><figure class=videoWrapper><iframe width=720 height=393 src=https://www.youtube.com/embed/Cbz3V4FGCE4 frameborder=0 allowfullscreen></iframe></figure><p>Quartz’s implementation follows this steps:</p><ol><li>Request a small <code>&lt;img/&gt;</code> that will be blurred. In their case, they use 50px width images, with a 80% quality.</li><li>Apply blur effect using a CSS filter.</li><li>Request the large image.</li></ol><p>One of the interesting points about Quartz is that their markup specifies the large image using the syntax for responsive images. The main difference is that they use a <code>data-srcset</code> attribute, so they control when to make the request and prevent the browser from requesting the large version of the image when the markup is parsed.</p><p>I find this approach very neat since they try to follow the “standard” way to serve images, adding extra bits to lazy load and animate the transition.</p><figure class="highlight plain"><table><tr><td class=code><pre><div class=line>&lt;figure class=”progressive-image featured-image size-extra-large “&gt; &lt;picture style=”padding-bottom: 56.1875%; background-image: url(https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=50);&quot;&gt; &lt;img src=”https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=50&quot; class=”progressive-image-thumbnail”&gt; &lt;img itemprop=”image” data-srcset=”https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=320 320w, https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=640 640w, https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=940 940w, https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=1600 1600w, https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=3200 3200w” sizes=”” data-src=”https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=320&quot; class=”progressive-image-large” alt=”INDIA-fishermen” title=””/&gt; &lt;noscript&gt; &lt;img src=”https://qzprod.files.wordpress.com/2017/01/fish.jpg?quality=80&amp;strip=all&amp;w=320&quot; alt=”INDIA-fishermen” title=””&gt; &lt;/noscript&gt; &lt;/picture&gt; &lt;figcaption class=”featured-image-caption”&gt; &lt;div class=”content-width-responsive”&gt; &lt;i class=”icon-camera”&gt;&lt;/i&gt;On the move. &lt;span class=”featured-image-credit has-space”&gt; (Reuters/Sivaram V)&lt;/span&gt; &lt;/div&gt; &lt;/figcaption&gt;&lt;/figure&gt;</div></pre></td></tr></table></figure><h2 id=Quora><a href=#Quora class=headerlink title=Quora></a>Quora</h2><p>Quora’s markup follows this structure: The initial thumbnail is inlined using a data-URI. This image is really small (6x10px). The data URI is set as an attribute to a<canvas>. Apply blur effect using canvas. Request the large image.</canvas></p><p>How does Quora (pre) load images? Answer: This is a technique found in many web-apps now. I was also intrigued when I noticed it on Medium for the first…www.quora.com Quora is the first example I see where they inline the thumbnail. This has its trade-offs, though. On the one hand, it increments the payload for the initial request, which they circumvent by generating a really small thumbnail. On the other hand, the main advantage of inlining it would be an immediate rendering. However, since Quora inlines it as a data attribute for a canvas, the page has to wait until the needed JS is downloaded (it is stored in their “main” bundle, in an external file) and executed.</p></div><hr></article></div><footer><section class=links><a href=https://twitter.com/jmperezperez>@jmperezperez</a> on Twitter · <a href=https://github.com/JMPerez>GitHub</a> · <a href=http://www.linkedin.com/in/jmperezperez>LinkedIn</a> · <a href=https://plus.google.com/107456024651797783420>Google+</a></section></footer></body></html>